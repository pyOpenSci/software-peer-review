

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Releasing a package &#8212; The pyOpenSci Developer Guide</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" integrity="sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN" crossorigin="anonymous">
    <link href="../_static/css/index.css" rel="stylesheet">
    <link rel="stylesheet" href="../_static/sphinx-book-theme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/jupyter-sphinx.css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/sphinx-book-theme.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/mystnb.js"></script>
    <script src="../_static/sphinx-book-theme.js"></script>
    <script >var togglebuttonSelector = '.toggle, .secondtoggle, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.0-alpha.0/dist/embed.js"></script>
    <link rel="shortcut icon" href="../_static/logo.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="The Peer Review Process" href="../process/intro.html" />
    <link rel="prev" title="Collaboration Guide" href="collaboration.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="docsearch:language" content="en">



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          

<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../index.html">
  
  <img src="../_static/logo.png" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">The pyOpenSci Developer Guide</h1>
  
</a>
</div>

<form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>

<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  
  <ul class="nav sidenav_l1">
  <li class="active">
    <a href="index.html">Author’s Guide</a>
  <ul class="nav sidenav_l2">
    <li class="">
      <a href="overview.html">Overview</a>
    </li>
    <li class="">
      <a href="testing.html">Testing your package</a>
    </li>
    <li class="">
      <a href="collaboration.html">Collaboration Guide</a>
    </li>
    <li class="active">
      <a href="">Releasing a package</a>
    </li>
  </ul>
  </li>
  <li class="">
    <a href="../process/intro.html">The Peer Review Process</a>
  <ul class="nav sidenav_l2">
    <li class="">
      <a href="../process/aims_scope.html">Aims and Scope</a>
    </li>
    <li class="">
      <a href="../process/guidelines.html">Peer Review Policies</a>
    </li>
    <li class="">
      <a href="../process/coc.html">Community Code of Conduct</a>
    </li>
  </ul>
  </li>
  <li class="">
    <a href="../submissions/intro.html">Submission Guides</a>
  <ul class="nav sidenav_l2">
    <li class="">
      <a href="../submissions/author_guide.html">Guide for Authors</a>
    </li>
    <li class="">
      <a href="../submissions/reviewer_guide.html">Guide for Reviewers</a>
    </li>
    <li class="">
      <a href="../submissions/editor_guide.html">Guide for Editors</a>
    </li>
  </ul>
  </li>
  <li class="">
    <a href="../appendices/templates.html">Appendix: Templates</a>
  </li>
  <li class="">
    <a href="../appendices/glossary.html">Glossary</a>
  </li>
</ul>
</nav>
<p class="navbar_footer">Powered by <a href="https://jupyterbook.org">Jupyter Book</a></p>
</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse" data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu" aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation" title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        <div class="dropdown-buttons-trigger">
            <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i class="fas fa-download"></i></button>

            
            <div class="dropdown-buttons">
                <!-- ipynb file if we had a myst markdown file -->
                
                <!-- Download raw file -->
                <a class="dropdown-buttons" href="../_sources/authoring/release.md.txt"><button type="button" class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip" data-placement="left">.md</button></a>
                <!-- Download PDF via print -->
                <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF" onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
            </div>
            
        </div>

        <!-- Edit this page -->
        <a class="edit-button" href="https://github.com/pyOpenSci/dev_guide/edit/master/authoring/release.md"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="bottom" title="Edit this page"><i class="fas fa-pencil-alt"></i></button></a>

        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="bottom" onclick="toggleFullScreen()" title="Fullscreen mode"><i class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->
        

        
    </div>
    <div class="d-none d-md-block col-md-2 bd-toc show">
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="nav section-nav flex-column">
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#original-release" class="nav-link">Original Release</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#releasing-updated-versions" class="nav-link">Releasing Updated Versions</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h3">
            <a href="#version-naming" class="nav-link">Version Naming</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#history-news-changelog-file" class="nav-link">History/News/Changelog file</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#releasing-versions-manual" class="nav-link">Releasing Versions: Manual</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#releasing-via-travis-ci" class="nav-link">Releasing via Travis CI</a>
        </li>
    
            </ul>
        </li>
    
    </ul>
</nav>



<div class="tocsection editthispage">
    <a href="https://github.com/pyOpenSci/dev_guide/edit/master/authoring/release.md">
        <i class="fas fa-pencil-alt"></i> Edit this page
    </a>
</div>

    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 col-xxl-7 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="releasing-a-package">
<span id="releasing"></span><h1>Releasing a package<a class="headerlink" href="#releasing-a-package" title="Permalink to this headline">¶</a></h1>
<p>This section covers releasing your package to PyPI as well as releasing future versions. Your package should have different versions over time: snapshots of a state of the package that you can release to PyPI for instance. These versions should be properly <em>numbered</em>, <em>released</em> and <em>described in a NEWS file</em>. More details below.</p>
<div class="section" id="original-release">
<h2>Original Release<a class="headerlink" href="#original-release" title="Permalink to this headline">¶</a></h2>
<p>After the review process has finished, you’re ready to release your package to PyPI so others can find and use your awesome package! Releasing to PyPI is easy. Once your package is ready, register it on PyPI by running:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">register</span>
</pre></div>
</div>
</div>
<div class="section" id="releasing-updated-versions">
<h2>Releasing Updated Versions<a class="headerlink" href="#releasing-updated-versions" title="Permalink to this headline">¶</a></h2>
<p>When you update your package, you release a new version to PyPI. Fortunately, this is easy! First, we’ll talk about the metadata you’ll need to update for each version. Then we’ll cover how to release your updated version to PyPI <a class="reference internal" href="#manual-release"><span class="std std-ref">manually via the command line</span></a> or <a class="reference internal" href="#travis-release"><span class="std std-ref">automatically via Travis CI</span></a>.</p>
<div class="section" id="version-naming">
<h3>Version Naming<a class="headerlink" href="#version-naming" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>We recommend that pyOpenSci packages use <a class="reference external" href="https://www.python.org/dev/peps/pep-0440/#semantic-versioning">semantic versioning</a>. In addition to the <a class="reference external" href="https://www.python.org/dev/peps/pep-0440/#semantic-versioning">PEP section on it</a>, semver.org has more <a class="reference external" href="https://semver.org/">detail</a>.</p></li>
<li><p>Versioning can be done using <a class="reference external" href="https://github.com/peritus/bumpversion">bumpversion</a>, e.g. for a minor update:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bumpversion</span> <span class="n">minor</span>
</pre></div>
</div>
<p>“minor” can be replaced with “major” or “patch” depending on the level of update.</p>
</div>
<div class="section" id="history-news-changelog-file">
<span id="history"></span><h3>History/News/Changelog file<a class="headerlink" href="#history-news-changelog-file" title="Permalink to this headline">¶</a></h3>
<p>A HISTORY (or NEWS or CHANGELOG) file describing changes associated with each version makes it easier for users to see what’s changing in the package and how it might impact their workflow. You must add one for your package, and make it easy to read.</p>
<ul class="simple">
<li><p>It is mandatory to use a <code class="docutils literal notranslate"><span class="pre">HISTORY</span></code> file in the root of your package. It can also be called NEWS or CHANGELOG We recommend using <code class="docutils literal notranslate"><span class="pre">[NAME].md</span></code> or <code class="docutils literal notranslate"><span class="pre">[NAME].rst</span></code> to make the file more browsing-friendly on GitHub (GitHub renders certain file types, including Markdown and reStructured text).</p></li>
<li><p>Update the history file before every PyPI release, with a section with the package name, version and date of release.</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">foobar</span> <span class="mf">0.2</span><span class="o">.</span><span class="mi">0</span> <span class="p">(</span><span class="mi">2016</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">01</span><span class="p">)</span>
<span class="o">=========================</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Under that header, put in sections as needed, including: <code class="docutils literal notranslate"><span class="pre">NEW</span> <span class="pre">FEATURES</span></code>, <code class="docutils literal notranslate"><span class="pre">MINOR</span> <span class="pre">IMPROVEMENTS</span></code>, <code class="docutils literal notranslate"><span class="pre">BUG</span> <span class="pre">FIXES</span></code>, <code class="docutils literal notranslate"><span class="pre">DEPRECATED</span> <span class="pre">AND</span> <span class="pre">DEFUNCT</span></code>, <code class="docutils literal notranslate"><span class="pre">DOCUMENTATION</span> <span class="pre">FIXES</span></code> and any special heading grouping a large number of changes. Under each header, list items as needed. For each item give a description of the new feature, improvement, bug fix, or deprecated function/feature. Link to any related GitHub issue like <code class="docutils literal notranslate"><span class="pre">(#12)</span></code>. The <code class="docutils literal notranslate"><span class="pre">(#12)</span></code> will resolve on GitHub in Releases to a link to that issue in the repo.</p></li>
<li><p>After you have added a <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">tag</span></code> and pushed up to GitHub, add the news items for that tagged version to the Release notes of a release in your GitHub repo with a title like <code class="docutils literal notranslate"><span class="pre">pkgname</span> <span class="pre">v0.1.0</span></code>. See <a class="reference external" href="https://help.github.com/articles/creating-releases/">GitHub docs about creating a release</a>.</p></li>
</ul>
</div>
<div class="section" id="releasing-versions-manual">
<span id="manual-release"></span><h3>Releasing Versions: Manual<a class="headerlink" href="#releasing-versions-manual" title="Permalink to this headline">¶</a></h3>
<p>To manually upload a new package version to PyPI, follow these steps:</p>
<ol class="simple">
<li><p>Update your HISTORY file as described <a class="reference external" href="#history">above</a></p></li>
<li><p>Open setup.py and change the version, e.g., version=’1.0.3’</p></li>
<li><p>If you added new, non-Python files to the project that need to be distributed as well, e.g., configuration files, add them to MANIFEST.in. This does not need to be done for Python code files ending in .py.</p></li>
<li><p>Open a terminal and go into the parent of the project’s root dir</p></li>
<li><p>python setup.py sdist</p></li>
<li><p>Check the resulting files, especially the egg file: are all the files contained?</p></li>
<li><p>If everything is ok, upload the new version to PyPI: python setup.py sdist upload</p></li>
</ol>
<p>That’s it!</p>
</div>
<div class="section" id="releasing-via-travis-ci">
<span id="travis-release"></span><h3>Releasing via Travis CI<a class="headerlink" href="#releasing-via-travis-ci" title="Permalink to this headline">¶</a></h3>
<p>Instead of manually uploading new package versions, Travis can be configured to automatically upload new versions. If you use this, each time you tag a new release and push it to GitHub, Travis will release it to PyPI (assuming it passes testing).</p>
<ul class="simple">
<li><p>The pyOpenSci cookiecutter comes with this option mostly set up. For details on how to finish the set up, see <a class="reference external" href="https://cookiecutter-pyopensci.readthedocs.io/en/latest/travis_pypi_setup.html">this guide</a>.</p></li>
<li><p>Also, be sure to check out this <a class="reference external" href="https://cookiecutter-pyopensci.readthedocs.io/en/latest/pypi_release_checklist.html">PyPI release checklist</a>.</p></li>
</ul>
</div>
</div>
</div>


              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='left-prev' id="prev-link" href="collaboration.html" title="previous page">Collaboration Guide</a>
    <a class='right-next' id="next-link" href="../process/intro.html" title="next page">The Peer Review Process</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
  <div class="container">
    <p>
          &copy; Copyright 2020.<br/>
        Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.4.4.<br/>
    </p>
  </div>
</footer>
</main>


      </div>
    </div>

    <script src="../_static/js/index.js"></script>
    
    <!-- Google Analytics -->
    <script>
      window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
      ga('create', 'UA-165151943-1', 'auto');
      ga('set', 'anonymizeIp', true);
      ga('send', 'pageview');
    </script>
    <script async src='https://www.google-analytics.com/analytics.js'></script>
    <!-- End Google Analytics -->
    
  </body>
</html>